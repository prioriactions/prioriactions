<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Solve mathematical models — solve • prioriactions</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous"><link href="../docsearch.css" rel="stylesheet"><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Solve mathematical models — solve"><meta property="og:description" content="Solves the optimization model associated with the multi-action
conservation planning problem. This function is used to solve
the mathematical model created by the problem() function."><meta property="og:image" content="https://prioriactions.github.io/prioriactions/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-6YB8F3838H"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-6YB8F3838H');
</script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">prioriactions</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.5.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/prioriactions.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li class="divider">
    <li class="dropdown-header">Introduction</li>
    <li>
      <a href="../articles/sensitivities.html">Benefits and sensitivities</a>
    </li>
    <li>
      <a href="../articles/objectives.html">Planning objectives</a>
    </li>
    <li>
      <a href="../articles/benchmark.html">Solver benchmarks</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Study cases</li>
    <li>
      <a href="../articles/MitchellRiver.html">Mitchell River</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/prioriactions/prioriactions/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul><form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off"></div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Solve mathematical models</h1>
    <small class="dont-index">Source: <a href="https://github.com/prioriactions/prioriactions/blob/HEAD/R/solve.R" class="external-link"><code>R/solve.R</code></a></small>
    <div class="hidden name"><code>solve.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Solves the optimization model associated with the multi-action
conservation planning problem. This function is used to solve
the mathematical model created by the <code><a href="problem.html">problem()</a></code> function.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">solve</span><span class="op">(</span></span>
<span>  <span class="va">a</span>,</span>
<span>  solver <span class="op">=</span> <span class="st">""</span>,</span>
<span>  gap_limit <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  time_limit <span class="op">=</span> <span class="va">.Machine</span><span class="op">$</span><span class="va">integer.max</span>,</span>
<span>  solution_limit <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  cores <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  name_output_file <span class="op">=</span> <span class="st">"output"</span>,</span>
<span>  output_file <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>a</dt>
<dd><p><a href="optimizationProblem-class.html">optimizationProblem</a> object. Optimization model created
for the problem of prioritization of multiple conservation actions. This object must be
created using the <code><a href="problem.html">problem()</a></code> function.</p></dd>


<dt>solver</dt>
<dd><p><code>string</code>. Name of solver to use to
solve the model. The following solvers are supported:
<a href="https://www.gurobi.com/" class="external-link"><code>"gurobi"</code></a>(requires the <span class="pkg">gurobi</span> package),
<a href="https://www.ibm.com/es-es/products/ilog-cplex-optimization-studio" class="external-link"><code>"cplex"</code></a>(requires the <span class="pkg">Rcplex</span> package),
<a href="https://github.com/coin-or/Cbc" class="external-link"><code>"cbc"</code></a>(requires the <span class="pkg">rcbc</span> package) and
<a href="https://github.com/coin-or/SYMPHONY" class="external-link"><code>"symphony"</code></a>(requires the <span class="pkg">Rsymphony</span> package).
We recommend using gurobi (for more information on how to obtain an academic license
<a href="https://prioritizr.net/articles/gurobi_installation_guide.html" class="external-link">here</a>).</p></dd>


<dt>gap_limit</dt>
<dd><p><code>numeric</code>. Value between 0 and 1 that represents the gap
to optimality, i.e., a relative number that cause the optimizer to
terminate when the difference between the upper and lower objective
function bounds is less than the gap times the upper bound. For example, a
value of 0.01 will result in the optimizer stopping when the difference
between the bounds is 1 percent of the upper bound. Default is 0.0.</p></dd>


<dt>time_limit</dt>
<dd><p><code>numeric</code>. Time limit to run the optimizer (in seconds).
The solver will return the current best solution when this time limit is exceeded.
Default is the maximum integer number of your machine.</p></dd>


<dt>solution_limit</dt>
<dd><p><code>logical</code>. Indicates if the solution process
should be stopped after the first feasible solution is found (<code>TRUE</code>),
or not (<code>FALSE</code>).</p></dd>


<dt>cores</dt>
<dd><p><code>integer</code>. Number of parallel cores to use in the machine to solve the problem.</p></dd>


<dt>verbose</dt>
<dd><p><code>logical</code>. Indicates if the solver information is displayed while
solving the optimization model (<code>TRUE</code>), or if it is not displayed (<code>FALSE</code>).</p></dd>


<dt>name_output_file</dt>
<dd><p><code>string</code>. Prefix of all output names.</p></dd>


<dt>output_file</dt>
<dd><p><code>logical</code>. Indicates if the outputs are exported as .csv files (<code>TRUE</code>),
or they are not exported (<code>FALSE</code>). Currently, 5 files are exported. The
distribution of actions in the solution, the distribution of the selected
planning units, the benefits achieved by the features, the parameters used,
and the optimization engine log.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>An object of class <a href="solution-class.html">solution</a>.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The solvers supported by the <code>solve()</code> function are
described below.</p><dl><dt><code>Gurobi solver</code></dt>
<dd><p><a href="https://www.gurobi.com/" class="external-link"><em>Gurobi</em></a> is a
state-of-the-art commercial optimization software with an R package
interface. It is by far the fastest of the solvers available in this
package, however, also this solver is not freely available.
That said, licenses are available to academics at no cost. The <span class="pkg">gurobi</span>
package is distributed with the <em>Gurobi</em> software suite. This solver
uses the <span class="pkg">gurobi</span> package to solve problems.</p></dd>


<dt><code>CPLEX solver</code></dt>
<dd><p><a href="https://www.ibm.com/es-es/products/ilog-cplex-optimization-studio" class="external-link"><em>cplex</em></a> is a
state-of-the-art commercial optimization software with an R package
interface. Like Gurobi, it is not freely accessible, but we can obtain academic
licenses. We recommend using this solver if the Gurobi solver is not available.
Licenses are available for the IBM CPLEX software to academics at no cost
<a href="https://www.ibm.com/products/ilog-cplex-optimization-studio" class="external-link">here</a>. This solver uses the
<span class="pkg">Rcplex</span> package to solve problems.</p></dd>


<dt><code>CBC solver</code></dt>
<dd><p><a href="https://github.com/coin-or/Cbc" class="external-link"><em>CBC</em></a> is an
open-source mixed integer linear programming solver written in C++. It is part of the
Computational Infrastructure for Operations Research (COIN-OR) project
interface. <span class="pkg">rcbc</span> package to solve problems is now available only on Github.
Please ensure that you closely adhere to the detailed installation instructions provided
<a href="https://github.com/dirkschumacher/rcbc" class="external-link">here</a> for proper setup.</p></dd>


<dt><code>Symphony solver</code></dt>
<dd><p><a href="https://github.com/coin-or/SYMPHONY" class="external-link"><em>SYMPHONY</em></a> is an
open-source integer programming solver that is part of the Computational
Infrastructure for Operations Research (COIN-OR) project, an initiative to
promote development of open-source tools for operations research (a field
that includes linear programming). The <span class="pkg">Rsymphony</span> package provides an
interface to COIN-OR and is available on CRAN. This solver uses the
<span class="pkg">Rsymphony</span> package to solve problems.</p></dd>

</dl></div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>For more information on how to install and obtain an academic
license of the Gurobi solver, see the <em>Gurobi installation guide</em>,
which can be found online at
<a href="https://prioritizr.net/articles/gurobi_installation_guide.html" class="external-link">prioritizr vignette</a>.
Just like Gurobi, cplex needs an academic licence to work. Details about how to install
the cplex solver, see the <a href="https://www.ibm.com/products/ilog-cplex-optimization-studio" class="external-link">webpage IBM CPLEX</a>.
Once installed, see the <em><span class="pkg">Rcplex</span> installation guide</em>, which can be found online at
<a href="https://github.com/cran/Rcplex/blob/master/inst/INSTALL" class="external-link">Rcplex package</a>.</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co">## This example uses input files included into package.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Load data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">sim_pu_data</span>, <span class="va">sim_features_data</span>, <span class="va">sim_dist_features_data</span>,</span></span>
<span class="r-in"><span><span class="va">sim_threats_data</span>, <span class="va">sim_dist_threats_data</span>, <span class="va">sim_sensitivity_data</span>,</span></span>
<span class="r-in"><span><span class="va">sim_boundary_data</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Create data instance</span></span></span>
<span class="r-in"><span><span class="va">problem_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="inputData.html">inputData</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  pu <span class="op">=</span> <span class="va">sim_pu_data</span>, features <span class="op">=</span> <span class="va">sim_features_data</span>, dist_features <span class="op">=</span> <span class="va">sim_dist_features_data</span>,</span></span>
<span class="r-in"><span>  threats <span class="op">=</span> <span class="va">sim_threats_data</span>, dist_threats <span class="op">=</span> <span class="va">sim_dist_threats_data</span>,</span></span>
<span class="r-in"><span>  sensitivity <span class="op">=</span> <span class="va">sim_sensitivity_data</span>, boundary <span class="op">=</span> <span class="va">sim_boundary_data</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Create optimization model</span></span></span>
<span class="r-in"><span><span class="va">problem_model</span> <span class="op">&lt;-</span> <span class="fu"><a href="problem.html">problem</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">problem_data</span>, blm <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Solve the optimization model using a gap_limit and gurobi solver</span></span></span>
<span class="r-in"><span><span class="co">## NOTE: The Gurobi solver must be previously installed and must have a valid license!</span></span></span>
<span class="r-in"><span><span class="va">s1</span> <span class="op">&lt;-</span> <span class="fu">solve</span><span class="op">(</span>a <span class="op">=</span> <span class="va">problem_model</span>, solver <span class="op">=</span> <span class="st">"gurobi"</span>, gap_limit <span class="op">=</span> <span class="fl">0.01</span>, output_file <span class="op">=</span> <span class="cn">FALSE</span>, cores <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="print.html">print</a></span><span class="op">(</span><span class="va">s1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Solve the optimization model using a gap_limit and symphony solver</span></span></span>
<span class="r-in"><span><span class="va">s2</span> <span class="op">&lt;-</span> <span class="fu">solve</span><span class="op">(</span>a <span class="op">=</span> <span class="va">problem_model</span>,</span></span>
<span class="r-in"><span>            solver <span class="op">=</span> <span class="st">"symphony"</span>,</span></span>
<span class="r-in"><span>            gap_limit <span class="op">=</span> <span class="fl">0.01</span>,</span></span>
<span class="r-in"><span>            output_file <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>            cores <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="print.html">print</a></span><span class="op">(</span><span class="va">s2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Solve the optimization model using a time_limit and gurobi solver</span></span></span>
<span class="r-in"><span><span class="va">s3</span> <span class="op">&lt;-</span> <span class="fu">solve</span><span class="op">(</span>a <span class="op">=</span> <span class="va">problem_model</span>, solver <span class="op">=</span> <span class="st">"gurobi"</span>, time_limit <span class="op">=</span> <span class="fl">10</span>, output_file <span class="op">=</span> <span class="cn">FALSE</span>, cores <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="print.html">print</a></span><span class="op">(</span><span class="va">s3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://www.researchgate.net/profile/Jose_Salgado-Rojas" class="external-link">Jose Salgado-Rojas</a>, <a href="https://www.researchgate.net/profile/Irlanda_Ceballos" class="external-link">Irlanda Ceballos-Fuentealba</a>, <a href="https://www.researchgate.net/profile/Virgilio_Hermoso" class="external-link">Virgilio Hermoso</a>, <a href="https://www.researchgate.net/profile/Eduardo_Alvarez-Miranda" class="external-link">Eduardo Alvarez-Miranda</a>, <a href="https://www.researchgate.net/profile/Jordi_Garcia-Gonzalo" class="external-link">Jordi Garcia-Gonzalo</a>.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: 'f00985ff93067595b4da97a65fe69f1a',
    indexName: 'prioriactions',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script></body></html>

